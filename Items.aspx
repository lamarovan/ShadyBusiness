<%@ Page Language="C#" MasterPageFile="~/Site.Master" title="Items" AutoEventWireup="true" CodeBehind="Items.aspx.cs" Inherits="ShadyBusiness.Items" %>

<asp:Content ID="Items" ContentPlaceHolderID="MainContent" runat="server">
    <div class="pt-3">
        <h3>Item Form</h3><br />
        <div class="form-row">
        <div class="form-group col-md-12">
            <label  >Item Name</label>
            <asp:TextBox ID="txtItem" runat="server"  CssClass="form-control" placeholder="Item Name" type="Text" ></asp:TextBox>
            <asp:RegularExpressionValidator ID="RegularExpressionValidator1" runat="server" ErrorMessage="Please enter text only" CssClass="alert-danger" ValidationExpression="^[a-zA-Z_ ]*$" ValidationGroup="itemValidation" ControlToValidate="txtItem"></asp:RegularExpressionValidator><br/>
            <asp:RequiredFieldValidator ID="RequiredFieldValidator1" runat="server" ControlToValidate="txtItem" CssClass="alert-danger" ErrorMessage="*required" ValidationGroup="itemValidation"></asp:RequiredFieldValidator>
            </div>
        <div class="form-group col-md-12">
            <label  >Description</label>
            <asp:TextBox ID="txtDescription" runat="server"  CssClass="form-control" placeholder="Description"></asp:TextBox>
            <asp:RegularExpressionValidator ID="RegularExpressionValidator2" runat="server" ErrorMessage="Please enter text only" CssClass="alert-danger" ValidationExpression="^[a-zA-Z_ ]*$" ValidationGroup="itemValidation" ControlToValidate="txtDescription"></asp:RegularExpressionValidator>
        </div>
        <div class="form-group col-md-6">
            <label   >Price</label>
            <asp:TextBox ID="txtPrice"  CssClass="form-control" runat="server" placeholder="$XXX" type="Number"></asp:TextBox>
       <asp:RequiredFieldValidator ID="RequiredFieldValidator2" runat="server" ControlToValidate="txtPrice" CssClass="alert-danger" ErrorMessage="*required" ValidationGroup="itemValidation"></asp:RequiredFieldValidator>
            </div>
        <div class="form-group col-md-4">
            <label  >Category</label>
            <asp:DropDownList  CssClass="form-control" ID="ddlCategory" runat="server" DataSourceID="SqlDataSource1" DataTextField="category_name" DataValueField="category_id"></asp:DropDownList>
            <asp:SqlDataSource ID="SqlDataSource1" runat="server" ConnectionString="<%$ ConnectionStrings:ConnectionString %>" ProviderName="<%$ ConnectionStrings:ConnectionStringSB.ProviderName %>" SelectCommand="SELECT * FROM [category]"></asp:SqlDataSource>
        </div>
        <div class="form-group col-md-2">
            <label  >Quantity</label>
            <asp:TextBox ID="txtQuantity" CssClass="form-control" runat="server" placeholder="10" type="Number" ></asp:TextBox>
             <asp:RequiredFieldValidator ID="RequiredFieldValidator3" runat="server" ControlToValidate="txtQuantity" CssClass="alert-danger" ErrorMessage="*required" ValidationGroup="itemValidation"></asp:RequiredFieldValidator>
        </div>
        </div>
        <asp:Button ID="btnInsert" runat="server"  Text="      ADD ITEM      " CssClass="btn btn-primary float-right" OnClick="btnInsert_Click" ValidationGroup="itemValidation" /><br />
        <br /><br /><hr/><br />
        <b style="font-size:24px;">View Items in Inventory</b>
        <div class="form-group float-right">
           
            <asp:DropDownList ID="ddlItem" runat="server" class="form-control"  DataSourceID="SqlDataSource2" DataTextField="item_name" DataValueField="item_code"></asp:DropDownList><br />
            <asp:SqlDataSource ID="SqlDataSource2"  runat="server" ConnectionString="<%$ ConnectionStrings:ConnectionString %>" ProviderName="<%$ ConnectionStrings:ConnectionStringSB.ProviderName %>" SelectCommand="SELECT [item_code], [item_name] FROM [item]"></asp:SqlDataSource>
            <asp:Button ID="btnFilter" runat="server"  Text="Filter" CssClass="btn btn-primary" OnClick="btnFilter_Click" />
            <asp:Button ID="btnClear" runat="server"   Text="Clear" CssClass="btn btn-danger" OnClick="btnClear_Click" />
        </div>
    </div>

    <div>
        <asp:GridView ID="GridView1" CssClass="table table-striped  table-bordered" runat="server"
            DataKeyNames="item_code"
            EmptyDataText="No records has been added."
            OnRowDataBound="GridView1_RowDataBound"
            OnRowEditing="GridView1_RowEditing"

            OnRowDeleting="GridView1_RowDeleting"
            AutoGenerateDeleteButton="True"

            OnRowUpdating="GridView1_RowUpdating"
            OnRowCancelingEdit="GridView1_RowCancelingEdit"
            AutoGenerateEditButton="True"  >
        </asp:GridView>
    </div>
    
</asp:Content>